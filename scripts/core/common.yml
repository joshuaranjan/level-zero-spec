#
# Copyright (C) 2019 Intel Corporation
#
# SPDX-License-Identifier: MIT
#
# See YaML.md for syntax definition
#
--- #--------------------------------------------------------------------------
type: header
desc: "Intel $OneApi Level-Zero API common types"
ordinal: "0"
--- #--------------------------------------------------------------------------
type: macro
desc: "Generates generic $OneApi API versions"
name: "$X_MAKE_VERSION( _major, _minor )"
value: "(( _major << 16 )|( _minor & 0x0000ffff))"
--- #--------------------------------------------------------------------------
type: macro
desc: "Extracts $OneApi API major version"
name: "$X_MAJOR_VERSION( _ver )"
value: "( _ver >> 16 )"
--- #--------------------------------------------------------------------------
type: macro
desc: "Extracts $OneApi API minor version"
name: "$X_MINOR_VERSION( _ver )"
value: "( _ver & 0x0000ffff )"
--- #--------------------------------------------------------------------------
type: macro
desc: "Calling convention for all API functions"
condition: "defined(_WIN32)"
name: __$xcall
value: __cdecl
altvalue: ""
--- #--------------------------------------------------------------------------
type: macro
desc: "Microsoft-specific dllexport storage-class attribute"
condition: "defined(_WIN32)"
name: __$x_api_export
value: __declspec(dllexport)
altvalue: ""
--- #--------------------------------------------------------------------------
type: macro
desc: "Microsoft-specific dllexport storage-class attribute"
condition: "defined(_WIN32)"
name: __$xdllexport
value: __declspec(dllexport)
--- #--------------------------------------------------------------------------
type: macro
desc: "GCC-specific dllexport storage-class attribute"
condition: "__GNUC__ >= 4"
name: __$xdllexport
value: __attribute__ ((visibility ("default")))
altvalue: ""
--- #--------------------------------------------------------------------------
type: macro
desc: "Disable OpenCL interoperability functions if not explicitly defined"
condition: "!defined($X_ENABLE_OCL_INTEROP)"
name: "$X_ENABLE_OCL_INTEROP"
value: "0"
--- #--------------------------------------------------------------------------
type: typedef
desc: "compiler-independent type"
name: $x_bool_t
value: uint8_t
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of a driver instance"
class: $xDriver
name: "$x_driver_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's device object"
class: $xDevice
name: "$x_device_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's command queue object"
class: $xCommandQueue
name: "$x_command_queue_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's command list object"
class: $xCommandList
name: "$x_command_list_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's fence object"
class: $xFence
name: "$x_fence_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's event pool object"
class: $xEventPool
name: "$x_event_pool_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's event object"
class: $xEvent
name: "$x_event_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's image object"
class: $xImage
name: "$x_image_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's module object"
class: $xModule
name: "$x_module_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of module's build log object"
class: $xModuleBuildLog
name: "$x_module_build_log_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's kernel object"
class: $xKernel
name: "$x_kernel_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's sampler object"
class: $xSampler
name: "$x_sampler_handle_t"
--- #--------------------------------------------------------------------------
type: handle
desc: "Handle of driver's command graph object"
version: "2.0"
class: $xCommandGraphExp
name: "$x_command_graph_exp_handle_t"
--- #--------------------------------------------------------------------------
type: macro
desc: "Maximum IPC handle size"
name: $X_MAX_IPC_HANDLE_SIZE
value: "64"
--- #--------------------------------------------------------------------------
type: struct
desc: "IPC handle to a memory allocation"
name: "$x_ipc_mem_handle_t"
members:
    - type: char
      name: "data[$X_MAX_IPC_HANDLE_SIZE]"
      desc: "Opaque data representing an IPC handle"
--- #--------------------------------------------------------------------------
type: struct
desc: "IPC handle to a event pool allocation"
name: "$x_ipc_event_pool_handle_t"
members:
    - type: char
      name: "data[$X_MAX_IPC_HANDLE_SIZE]"
      desc: "Opaque data representing an IPC handle"
--- #--------------------------------------------------------------------------
type: macro
desc: "Generic macro for enumerator bit masks"
name: "$X_BIT( _i )"
value: "( 1 << _i )"
--- #--------------------------------------------------------------------------
type: enum
desc: "Defines Return/Error codes"
name: $x_result_t
etors:
    - name: $X_RESULT_SUCCESS
      value: "0"
      desc: "[Core] success"
    - name: $X_RESULT_NOT_READY
      value: "1"
      desc: "[Core] synchronization primitive not signaled"
    - name: $X_RESULT_ERROR_DEVICE_LOST
      value: "0x70000001"
      desc: "[Core] device hung, reset, was removed, or driver update occurred"
    - name: $X_RESULT_ERROR_OUT_OF_HOST_MEMORY
      desc: "[Core] insufficient host memory to satisfy call"
    - name: $X_RESULT_ERROR_OUT_OF_DEVICE_MEMORY
      desc: "[Core] insufficient device memory to satisfy call"
    - name: $X_RESULT_ERROR_MODULE_BUILD_FAILURE
      desc: "[Core] error occurred when building module, see build log for details"
    - name: $X_RESULT_ERROR_INSUFFICIENT_PERMISSIONS
      value: "0x70010000"
      desc: "[Tools] access denied due to permission level"
    - name: $X_RESULT_ERROR_NOT_AVAILABLE
      desc: "[Tools] resource already in use and simultaneous access not allowed"
    - name: $X_RESULT_ERROR_UNINITIALIZED
      value: "0x78000001"
      desc: "[Validation] driver is not initialized"
    - name: $X_RESULT_ERROR_UNSUPPORTED_VERSION
      desc: "[Validation] generic error code for unsupported versions"
    - name: $X_RESULT_ERROR_UNSUPPORTED_FEATURE
      desc: "[Validation] generic error code for unsupported features"
    - name: $X_RESULT_ERROR_INVALID_ARGUMENT
      desc: "[Validation] generic error code for invalid arguments"
    - name: $X_RESULT_ERROR_INVALID_NULL_HANDLE
      desc: "[Validation] handle argument is not valid"
    - name: $X_RESULT_ERROR_HANDLE_OBJECT_IN_USE
      desc: "[Validation] object pointed to by handle still in-use by device"
    - name: $X_RESULT_ERROR_INVALID_NULL_POINTER
      desc: "[Validation] pointer argument may not be nullptr"
    - name: $X_RESULT_ERROR_INVALID_SIZE
      desc: "[Validation] size argument is invalid (e.g., must not be zero)"
    - name: $X_RESULT_ERROR_UNSUPPORTED_SIZE
      desc: "[Validation] size argument is not supported by the device (e.g., too large)"
    - name: $X_RESULT_ERROR_UNSUPPORTED_ALIGNMENT
      desc: "[Validation] alignment argument is not supported by the device (e.g., too small)"
    - name: $X_RESULT_ERROR_INVALID_SYNCHRONIZATION_OBJECT
      desc: "[Validation] synchronization object in invalid state"
    - name: $X_RESULT_ERROR_INVALID_ENUMERATION
      desc: "[Validation] enumerator argument is not valid"
    - name: $X_RESULT_ERROR_UNSUPPORTED_ENUMERATION
      desc: "[Validation] enumerator argument is not supported by the device"
    - name: $X_RESULT_ERROR_UNSUPPORTED_IMAGE_FORMAT
      desc: "[Validation] image format is not supported by the device"
    - name: $X_RESULT_ERROR_INVALID_NATIVE_BINARY
      desc: "[Validation] native binary is not supported by the device"
    - name: $X_RESULT_ERROR_INVALID_GLOBAL_NAME
      desc: "[Validation] global variable is not found in the module"
    - name: $X_RESULT_ERROR_INVALID_KERNEL_NAME
      desc: "[Validation] kernel name is not found in the module"
    - name: $X_RESULT_ERROR_INVALID_FUNCTION_NAME
      desc: "[Validation] function name is not found in the module"
    - name: $X_RESULT_ERROR_INVALID_GROUP_SIZE_DIMENSION
      desc: "[Validation] group size dimension is not valid for the kernel or device"
    - name: $X_RESULT_ERROR_INVALID_GLOBAL_WIDTH_DIMENSION
      desc: "[Validation] global width dimension is not valid for the kernel or device"
    - name: $X_RESULT_ERROR_INVALID_KERNEL_ARGUMENT_INDEX
      desc: "[Validation] kernel argument index is not valid for kernel"
    - name: $X_RESULT_ERROR_INVALID_KERNEL_ARGUMENT_SIZE
      desc: "[Validation] kernel argument size does not match kernel"
    - name: $X_RESULT_ERROR_INVALID_KERNEL_ATTRIBUTE_VALUE
      desc: "[Validation] value of kernel attribute is not valid for the kernel or device"
    - name: $X_RESULT_ERROR_INVALID_COMMAND_LIST_TYPE
      desc: "[Validation] command list type does not match command queue type"
    - name: $X_RESULT_ERROR_OVERLAPPING_REGIONS
      desc: "[Validation] copy operations do not support overlapping regions of memory"
    - name: $X_RESULT_ERROR_UNKNOWN
      value: "0x7fffffff"
      desc: "[Core] unknown or internal error"
--- #--------------------------------------------------------------------------
type: enum
desc: "Defines structure types"
name: $x_structure_type_t
etors:
    - name: $X_STRUCTURE_TYPE_DRIVER_PROPERTIES
      desc: $x_driver_properties_t
      value: "0x1"
    - name: $X_STRUCTURE_TYPE_DRIVER_IPC_PROPERTIES
      desc: $x_driver_ipc_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_PROPERTIES
      desc: $x_device_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_COMPUTE_PROPERTIES
      desc: $x_device_compute_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_KERNEL_PROPERTIES
      desc: $x_device_kernel_properties_t
    - name: $X_STRUCTURE_TYPE_COMMAND_QUEUE_GROUP_PROPERTIES
      desc: $x_command_queue_group_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_MEMORY_PROPERTIES
      desc: $x_device_memory_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_MEMORY_ACCESS_PROPERTIES
      desc: $x_device_memory_access_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_CACHE_PROPERTIES
      desc: $x_device_cache_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_IMAGE_PROPERTIES
      desc: $x_device_image_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_P2P_PROPERTIES
      desc: $x_device_p2p_properties_t
    - name: $X_STRUCTURE_TYPE_COMMAND_QUEUE_DESC
      desc: $x_command_queue_desc_t
    - name: $X_STRUCTURE_TYPE_COMMAND_LIST_DESC
      desc: $x_command_list_desc_t
    - name: $X_STRUCTURE_TYPE_EVENT_POOL_DESC
      desc: $x_event_pool_desc_t
    - name: $X_STRUCTURE_TYPE_EVENT_DESC
      desc: $x_event_desc_t
    - name: $X_STRUCTURE_TYPE_FENCE_DESC
      desc: $x_fence_desc_t
    - name: $X_STRUCTURE_TYPE_IMAGE_DESC
      desc: $x_image_desc_t
    - name: $X_STRUCTURE_TYPE_IMAGE_PROPERTIES
      desc: $x_image_properties_t
    - name: $X_STRUCTURE_TYPE_DEVICE_MEM_ALLOC_DESC
      desc: $x_device_mem_alloc_desc_t
    - name: $X_STRUCTURE_TYPE_HOST_MEM_ALLOC_DESC
      desc: $x_host_mem_alloc_desc_t
    - name: $X_STRUCTURE_TYPE_MEMORY_ALLOCATION_PROPERTIES
      desc: $x_memory_allocation_properties_t
    - name: $X_STRUCTURE_TYPE_MODULE_DESC
      desc: $x_module_desc_t
    - name: $X_STRUCTURE_TYPE_KERNEL_DESC
      desc: $x_kernel_desc_t
    - name: $X_STRUCTURE_TYPE_KERNEL_PROPERTIES
      desc: $x_kernel_properties_t
    - name: $X_STRUCTURE_TYPE_SAMPLER_DESC
      desc: $x_sampler_desc_t
    - name: $X_STRUCTURE_TYPE_COMMAND_GRAPH_EXP_DESC
      desc: $x_command_graph_exp_desc_t
      value: "0x00010001"
      version: "2.0"
