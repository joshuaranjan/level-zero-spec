--- #--------------------------------------------------------------------------
type: header
desc: "Intel $Xx Driver APIs"
--- #--------------------------------------------------------------------------
type: enum
desc: "Supported initialization flags"
name: $x_init_flag_t
etors:
    - name: $X_INIT_FLAG_NONE
      value: "0"
      desc: "default behavior"
--- #--------------------------------------------------------------------------
type: function
desc: "Initialize the $Xx Driver API and must be called before any other API function."
class: $xDriver
name: Init
decl: static
details: 
    - "Only one instance of a driver per process can be loaded."
    - "There is no reference tracking if multiple drivers are initialized."
    - "If this function is not called then all other functions will return $X_RESULT_ERROR_UNINITIALIZED."
    - "This function is thread-safe for scenarios where multiple libraries may initialize the driver simultaneously."
analogue:
    - "**cuInit**"
params:
    - type: $x_init_flag_t
      name: flags
      desc: "[in] initialization flags"
returns:
    - $X_RESULT_ERROR_INVALID_PARAMETER:
        - "invalid value for flags"
    - $X_RESULT_ERROR_OUT_OF_HOST_MEMORY
--- #--------------------------------------------------------------------------
type: macro
desc: "API version of $x_device_link_properties_t"
name: $X_DEVICE_LINK_PROPERTIES_VERSION
value: "$X_MAKE_VERSION( 1, 0 )"
--- #--------------------------------------------------------------------------
type: struct
desc: "Device properties queried using $xDriverGetDeviceLinkProperties"
name: $x_device_link_properties_t
members:
    - type: uint32_t
      name: version
      desc: "[in] $X_DEVICE_LINK_PROPERTIES_VERSION"
    - type: bool
      name: isP2PSupported
      desc: "[out] Is P2P access supported across link"
    - type: bool
      name: isAtomicsSupported
      desc: "[out] Are atomics supported across link"
    - type: uint32_t
      name: performanceRank
      desc: "[out] Relative performance rank of link."
--- #--------------------------------------------------------------------------
type: function
desc: "Retrieves link properties between source and destination devices."
class: $xDriver
name: GetDeviceLinkProperties
analogue:
    - "**cudaDeviceGetP2PAttribute**"
details:
    - "The application may call this function from simultaneous threads."
    - "The implementation of this function should be lock-free."
params:
    - type: uint32_t
      name: srcOrdinal
      desc: "[in] source device ordinal"
    - type: uint32_t
      name: dstOrdinal
      desc: "[in] destination device ordinal"
    - type: "$x_device_link_properties_t*"
      name: pLinkProperties
      desc: "[out] link properties between source and destination devices"
returns:
    - $X_RESULT_ERROR_INVALID_PARAMETER:
        - "invalid ordinal. Use $xDriverGetDeviceCount for valid range."
--- #--------------------------------------------------------------------------
type: function
desc: "Returns the current version of the installed driver."
class: $xDriver
name: GetVersion
details:
    - "The driver version is a non-zero, monotonically increasing value where higher values always indicate a more recent version."
    - "The application may call this function from simultaneous threads."
    - "The implementation of this function should be lock-free."
analogue:
    - "**cuDriverGetVersion**"
params:
    - type: "uint32_t*"
      name: version
      desc: "[out] driver version"
