--- #--------------------------------------------------------------------------
type: header
desc: "Intel $Xx Driver APIs for Semaphore"
class: $xSemaphore
--- #--------------------------------------------------------------------------
type: macro
desc: "API version of $x_semaphore_desc_t"
name: $X_SEMAPHORE_DESC_VERSION
value: "$X_MAKE_VERSION( 1, 0 )"
--- #--------------------------------------------------------------------------
type: enum
desc: "Supported semaphore creation flags"
name: $x_semaphore_flag_t
etors:
    - name: $X_SEMAPHORE_FLAG_NONE
      value: "0"
      desc: "default behavior"
--- #--------------------------------------------------------------------------
type: typedef
desc: "Semaphore value type"
name: $x_semaphore_value_t
value: uint64_t
--- #--------------------------------------------------------------------------
type: struct
desc: "Semaphore descriptor"
name: $x_semaphore_desc_t
members:
    - type: uint32_t
      name: version
      desc: "[in] $X_SEMAPHORE_DESC_VERSION"
    - type: $x_semaphore_flag_t
      name: flags
      desc: "[in] creation flags"
--- #--------------------------------------------------------------------------
type: function
desc: "Creates an semaphore object on the device."
class: $xDevice
name: CreateSemaphore
analogue:
    - "**vkCreateSemaphore**"
details:
    - "The application may call this function from simultaneous threads."
    - "The implementation of this function should be lock-free."
params:
    - type: $x_device_handle_t
      name: hDevice
      desc: "[in] handle of the device"
    - type: "const $x_semaphore_desc_t*"
      name: desc
      desc: "[in] pointer to semaphore descriptor"
    - type: "$x_semaphore_handle_t*"
      name: phSemaphore
      desc: "[out] pointer to handle of semaphore object created"
returns:
    - $X_RESULT_ERROR_OUT_OF_HOST_MEMORY
    - $X_RESULT_ERROR_OUT_OF_DEVICE_MEMORY
--- #--------------------------------------------------------------------------
type: function
desc: "Deletes an semaphore object."
class: $xSemaphore
name: Destroy
analogue:
    - "**vkDestroySemaphore**"
details:
    - "The application is responsible for making sure the GPU is not currently referencing the semaphore before it is deleted"
    - "The implementation of this function will immediately free all Host and Device allocations associated with this semaphore"
    - "The implementation of this function should be lock-free."
params:
    - type: $x_semaphore_handle_t
      name: hSemaphore
      desc: "[in] handle of semaphore object to destroy"
--- #--------------------------------------------------------------------------
type: function
desc: "Encodes an semaphore signal into a command list."
class: $xCommandList
name: EncodeSemaphoreSignal
details:
    - "The application may **not** call this function from simultaneous threads with the same command list handle."
    - "The implementation of this function should be lock-free."
params:
    - type: $x_command_list_handle_t
      name: hCommandList
      desc: "[in] handle of the command list"
    - type: $x_semaphore_handle_t
      name: hSemaphore
      desc: "[in] handle of the semaphore"
    - type: $x_semaphore_value_t
      name: value
      desc: "[in] the value to write on signal"
--- #--------------------------------------------------------------------------
type: enum
desc: "Supported semaphore wait operations"
name: $x_semaphore_wait_operation_t
etors:
    - name: $X_SEMAPHORE_WAIT_OPERATION_EQUAL_TO
      value: "1"
      desc: "semaphore value == wait value"
    - name: $X_SEMAPHORE_WAIT_OPERATION_NOT_EQUAL_TO
      desc: "semaphore value != wait value"
    - name: $X_SEMAPHORE_WAIT_OPERATION_GREATER_THAN
      desc: "semaphore value > wait value"
    - name: $X_SEMAPHORE_WAIT_OPERATION_GREATER_OR_EQUAL_TO
      desc: "semaphore value >= wait value"
    - name: $X_SEMAPHORE_WAIT_OPERATION_LESS_THAN
      desc: "semaphore value < wait value"
    - name: $X_SEMAPHORE_WAIT_OPERATION_LESS_OR_EQUAL_TO
      desc: "semaphore value <= wait value"
--- #--------------------------------------------------------------------------
type: function
desc: "Encodes an semaphore wait into a command list."
class: $xCommandList
name: EncodeSemaphoreWait
details:
    - "The application may **not** call this function from simultaneous threads with the same command list handle."
    - "The implementation of this function should be lock-free."
params:
    - type: $x_command_list_handle_t
      name: hCommandList
      desc: "[in] handle of the command list"
    - type: $x_semaphore_handle_t
      name: hSemaphore
      desc: "[in] handle of the semaphore"
    - type: $x_semaphore_wait_operation_t
      name: operation
      desc: "[in] wait operation type"
    - type: $x_semaphore_value_t
      name: value
      desc: "[in] the value to wait upon"
--- #--------------------------------------------------------------------------
type: function
desc: "Queries an semaphore object's value."
class: $xSemaphore
name: QueryValue
details:
    - "The application may call this function from simultaneous threads."
    - "The implementation of this function should be lock-free."
params:
    - type: $x_semaphore_handle_t
      name: hSemaphore
      desc: "[in] handle of the semaphore"
--- #--------------------------------------------------------------------------
type: function
desc: "Reset a semaphore back to the value of 0."
class: $xSemaphore
name: Reset
details:
    - "The application may call this function from simultaneous threads."
    - "The implementation of this function should be lock-free."
params:
    - type: $x_semaphore_handle_t
      name: hSemaphore
      desc: "[in] handle of the semaphore"
